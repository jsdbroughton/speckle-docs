<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Writing Your Own Connector | Speckle Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="/scripts/scroll-to-hash.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <meta name="description" content="Documentation on everything Speckle">
    <meta name="theme-color" content="#0480FB">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.df7ac8e6.css" as="style"><link rel="preload" href="/assets/js/app.8d0b3a2b.js" as="script"><link rel="preload" href="/assets/js/4.86dedb09.js" as="script"><link rel="preload" href="/assets/js/17.d6c0114b.js" as="script"><link rel="prefetch" href="/assets/js/10.2b9938d8.js"><link rel="prefetch" href="/assets/js/11.c17ecef8.js"><link rel="prefetch" href="/assets/js/12.b8ad8bb1.js"><link rel="prefetch" href="/assets/js/13.205e3125.js"><link rel="prefetch" href="/assets/js/14.e913cfc6.js"><link rel="prefetch" href="/assets/js/15.beb94dad.js"><link rel="prefetch" href="/assets/js/16.fa3116d1.js"><link rel="prefetch" href="/assets/js/18.2321e83f.js"><link rel="prefetch" href="/assets/js/19.4a8c78e5.js"><link rel="prefetch" href="/assets/js/20.bc6d31ee.js"><link rel="prefetch" href="/assets/js/21.d3bf49bf.js"><link rel="prefetch" href="/assets/js/22.ecb08aef.js"><link rel="prefetch" href="/assets/js/23.8960facd.js"><link rel="prefetch" href="/assets/js/24.a6446ab9.js"><link rel="prefetch" href="/assets/js/25.baa74de6.js"><link rel="prefetch" href="/assets/js/26.9107ed57.js"><link rel="prefetch" href="/assets/js/27.68e57b5e.js"><link rel="prefetch" href="/assets/js/28.edb64d19.js"><link rel="prefetch" href="/assets/js/29.f1eebc79.js"><link rel="prefetch" href="/assets/js/3.13d2b213.js"><link rel="prefetch" href="/assets/js/30.2b629810.js"><link rel="prefetch" href="/assets/js/31.9b801d43.js"><link rel="prefetch" href="/assets/js/32.ed5de1c3.js"><link rel="prefetch" href="/assets/js/33.47814d22.js"><link rel="prefetch" href="/assets/js/34.2615f745.js"><link rel="prefetch" href="/assets/js/35.8e132038.js"><link rel="prefetch" href="/assets/js/36.8a1192be.js"><link rel="prefetch" href="/assets/js/37.c29c5246.js"><link rel="prefetch" href="/assets/js/38.d2ea4bae.js"><link rel="prefetch" href="/assets/js/39.3b5592cc.js"><link rel="prefetch" href="/assets/js/40.747f20b7.js"><link rel="prefetch" href="/assets/js/41.d3c7ba3b.js"><link rel="prefetch" href="/assets/js/42.e45ddd3d.js"><link rel="prefetch" href="/assets/js/43.4ae02fa3.js"><link rel="prefetch" href="/assets/js/44.437ca5c9.js"><link rel="prefetch" href="/assets/js/45.45b51baa.js"><link rel="prefetch" href="/assets/js/46.9dee4648.js"><link rel="prefetch" href="/assets/js/47.f2c0b2cd.js"><link rel="prefetch" href="/assets/js/48.af9776ff.js"><link rel="prefetch" href="/assets/js/49.3c87b302.js"><link rel="prefetch" href="/assets/js/5.469a13b8.js"><link rel="prefetch" href="/assets/js/50.2ef0dfa3.js"><link rel="prefetch" href="/assets/js/51.4b6aca27.js"><link rel="prefetch" href="/assets/js/52.e77f4d44.js"><link rel="prefetch" href="/assets/js/53.fe822939.js"><link rel="prefetch" href="/assets/js/54.ca9b4049.js"><link rel="prefetch" href="/assets/js/55.1d2819a3.js"><link rel="prefetch" href="/assets/js/56.cd94e801.js"><link rel="prefetch" href="/assets/js/57.92ceba1b.js"><link rel="prefetch" href="/assets/js/58.592c0108.js"><link rel="prefetch" href="/assets/js/59.5dd015fc.js"><link rel="prefetch" href="/assets/js/6.dc6d6d9c.js"><link rel="prefetch" href="/assets/js/60.450ddf55.js"><link rel="prefetch" href="/assets/js/61.8a18aa93.js"><link rel="prefetch" href="/assets/js/62.e60994ac.js"><link rel="prefetch" href="/assets/js/63.1d1a0097.js"><link rel="prefetch" href="/assets/js/64.4cb5b49a.js"><link rel="prefetch" href="/assets/js/65.cdd6f906.js"><link rel="prefetch" href="/assets/js/7.41591df4.js"><link rel="prefetch" href="/assets/js/8.6180ff25.js"><link rel="prefetch" href="/assets/js/9.f30dcff4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.ee73784b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.df7ac8e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo-docs.png" alt="Speckle Docs" class="logo"> <span class="site-name can-hide">Speckle Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Developer Docs
</a></div><div class="nav-item"><a href="https://speckle.systems" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speckle Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://speckle.systems/getstarted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Get Started
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/specklesystems/speckle-docs/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Developer Docs
</a></div><div class="nav-item"><a href="https://speckle.systems" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Speckle Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://speckle.systems/getstarted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Get Started
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/specklesystems/speckle-docs/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Developer Docs üë©‚Äçüíª</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/dev/architecture.html" class="sidebar-link">Architecture</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Core Concepts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/base.html" class="sidebar-link">The Base Object</a></li><li><a href="/dev/decomposition.html" class="sidebar-link">Decomposition API</a></li><li><a href="/dev/kits.html" class="sidebar-link">Kits</a></li><li><a href="/dev/transports.html" class="sidebar-link">Transports</a></li><li><a href="/dev/apps-auth.html" class="sidebar-link">Apps &amp; Auth</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced Concepts</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>.NET SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/dotnet.html" class="sidebar-link">Introduction</a></li><li><a href="/dev/objects.html" class="sidebar-link">Objects Kit</a></li><li><a href="/dev/connectors-dev.html" aria-current="page" class="active sidebar-link">Writing Your Own Connector</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#before-you-begin" class="sidebar-link">Before you begin</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#anatomy-of-a-connector" class="sidebar-link">Anatomy of a connector</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#getting-started" class="sidebar-link">Getting started</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-desktopui-old" class="sidebar-link">Adding DesktopUI (old)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-the-bindings" class="sidebar-link">Adding the Bindings</a></li></ul></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-desktopui-new" class="sidebar-link">Adding DesktopUI (new)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-the-bindings-2" class="sidebar-link">Adding the Bindings</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-support-for-reports" class="sidebar-link">Adding support for Reports</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-custom-actions" class="sidebar-link">Adding custom actions</a></li></ul></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#implementing-telemetry" class="sidebar-link">Implementing telemetry</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#writing-the-converter" class="sidebar-link">Writing the Converter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#creating-the-converter-project" class="sidebar-link">Creating the Converter Project</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#adding-the-converter-logic" class="sidebar-link">Adding the Converter logic</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#the-context-document" class="sidebar-link">The Context Document</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#the-convert-methods" class="sidebar-link">The Convert methods</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#new-objects" class="sidebar-link">New Objects</a></li></ul></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#loading-the-converter" class="sidebar-link">Loading the Converter</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#publishing-the-connector" class="sidebar-link">Publishing the Connector</a></li><li class="sidebar-sub-header"><a href="/dev/connectors-dev.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/dev/kits-dev.html" class="sidebar-link">Writing Your Own Kit</a></li><li><a href="/dev/transports-dev.html" class="sidebar-link">Writing Your Own Transport</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/python.html" class="sidebar-link">Introduction</a></li><li><a href="/dev/py-examples.html" class="sidebar-link">Examples</a></li><li><a href="/dev/py-sample.html" class="sidebar-link">Tutorial: Simple Dashboard</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javascript SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/js.html" class="sidebar-link">Introduction</a></li><li><a href="/dev/viewer.html" class="sidebar-link">Using our embeddable 3D viewer</a></li><li><a href="/dev/js-app-script.html" class="sidebar-link">Using Google Apps Scripts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Server API &amp; Apps</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/server-api.html" class="sidebar-link">Introduction</a></li><li><a href="/dev/server-graphql-api.html" class="sidebar-link">GraphQL API</a></li><li><a href="/dev/server-rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/dev/server-stream-previews.html" class="sidebar-link">Stream Preview Images</a></li><li><a href="/dev/server-webhooks.html" class="sidebar-link">Webhooks</a></li><li><a href="/dev/server-setup.html" class="sidebar-link">Deploying a Server - DigitalOcean Marketplace App</a></li><li><a href="/dev/server-manualsetup.html" class="sidebar-link">Deploying a Server - manual setup</a></li><li><a href="/dev/server-local-dev.html" class="sidebar-link">Local development environment</a></li><li><a href="/dev/tokens.html" class="sidebar-link">Personal Access Tokens</a></li><li><a href="/dev/apps.html" class="sidebar-link">Creating Your Own App</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="writing-your-own-connector"><a href="#writing-your-own-connector" class="header-anchor">#</a> Writing Your Own Connector</h1> <p><img src="/assets/img/connectors.19443df6.png" alt=""></p> <p>Have a dream for a connector that doesn't yet exist? We have all the tools ready for you to start developing your own!</p> <p>We are very enthusiastic about community connectors and would love to help you bring them to life. To get started, check out the guide below. Feel free to reach out with any questions or calls for more contributors to the project on our <a href="https://speckle.community/" target="_blank" rel="noopener noreferrer">forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="before-you-begin"><a href="#before-you-begin" class="header-anchor">#</a> Before you begin</h2> <p>Before you begin writing your own connector, we encourage you to follow the steps below:</p> <ol><li><strong>make sure you are comfortable</strong> writing plugins for the host application you are planning to target, otherwise the guide below will not be of great help üòÖ</li> <li><strong>check our <a href="https://www.notion.so/speckle/28be414411934168af2a262fd5289fbe?v=42772fc697d6411bb348e6969366885b" target="_blank" rel="noopener noreferrer">roadmap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> and see if we might be already working on it or planning to</li> <li><strong>post on the <a href="https://speckle.community/" target="_blank" rel="noopener noreferrer">community forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> announcing what you are planning to develop and how</li> <li><strong>consider</strong> that if you make your connector publicly available it's going to be your own responsibility to maintain it</li> <li><strong>check whether the <a href="https://github.com/specklesystems/speckle-sharp/tree/master/Objects" target="_blank" rel="noopener noreferrer">objects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> kit is fit</strong> to support your future connector, if it might need to be extended or if you might want to develop a new kit as well</li> <li><strong>read</strong> our <a href="/dev/base.html">dev docs on Base object, Kits, Transports</a> etc...</li></ol> <h2 id="anatomy-of-a-connector"><a href="#anatomy-of-a-connector" class="header-anchor">#</a> Anatomy of a connector</h2> <p>Connectors are made of the following parts:</p> <ul><li><strong>a User Interface</strong></li> <li><strong>bindings</strong> between the host application and the UI</li> <li><strong>custom logic</strong> specific to the host application (for selecting elements, saving senders and receivers in the project file etc)</li> <li><strong>a converter</strong> to convert between the host application and Speckle geometry and BIM elements</li></ul> <p>For the purpose of this tutorial, we'll be using a user interface called <a href="/user/ui">DesktopUI</a> currently in use by our Revit, Rhino, AutoCAD and Civil 3D connectors. But you can of course create your own or use whatever the host application you are integrating with provides - that's the case of visual programming software.</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>To get started, create a C# project in your IDE of choice by following the conventions and requirements for writing plugins for the host application you are targeting. In most cases you'll be creating a .NET Framework class library project.</p> <p>To be consistent with other Speckle connectors you should name your project <code>ConnectorAPP_NAME</code>, set the Assembly name to <code>SpeckleConnectorAPP_NAME</code> and the namespace to <code>Speckle.ConnectorAPP_NAME</code> where <code>APP_NAME</code> is the name of your host application (eg Tekla, Etabs...).</p> <div class="custom-block tip"><p class="custom-block-title">Requirements</p> <p>The minimum supported .NET Framework for using our .NET SDK is <strong>4.6.1</strong></p></div> <p>Then you can proceed to add the following packages from NuGet:</p> <ul><li><code>Speckle.DesktopUI</code></li> <li><code>Speckle.Objects</code></li></ul> <p><img src="data:image/png;base64,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" alt=""></p> <p>By installing these packages,<code>Speckle.Core</code> and other packages will be also added automatically.</p> <h2 id="adding-desktopui-old"><a href="#adding-desktopui-old" class="header-anchor">#</a> Adding DesktopUI (old)</h2> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT ‚ö†Ô∏è</p> <p>Our default User Interface is changing! ü§©
See our new version <a href="/user/ui2">here</a>, and add your feedback on the <a href="https://speckle.community/t/new-desktopui-in-alpha-testing/1851" target="_blank" rel="noopener noreferrer">forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>!</p></div> <p>Assuming the host application you are integrating with provides a way to launch plugins via command or by clicking a button, you can insatiate and launch the DesktopUI with the code below:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Bootstrapper</span> Bootstrapper <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">internal</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">StartOrShowPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Bootstrapper <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    Bootstrapper<span class="token punctuation">.</span><span class="token function">ShowRootView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  Bootstrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Bootstrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>Application<span class="token punctuation">.</span>Current <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StyletAppLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Bootstrapper <span class="token operator">=</span> Bootstrapper <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DesktopUI<span class="token punctuation">.</span>App</span><span class="token punctuation">(</span>Bootstrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

  Bootstrapper<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>Application<span class="token punctuation">.</span>Current<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>You can see how it's been implemented in <a href="https://github.com/specklesystems/speckle-sharp/blob/master/ConnectorRhino/ConnectorRhino/ConnectorRhinoCommand.cs#L80" target="_blank" rel="noopener noreferrer">Rhino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/specklesystems/speckle-sharp/blob/master/ConnectorRevit/ConnectorRevit/Entry/SpeckleRevitCommand.cs#L24" target="_blank" rel="noopener noreferrer">Revit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Now, in your host application, after launching the Speckle plugin you should see this window pop up:</p> <p><img src="/assets/img/image-20210427164951074.387397f1.png" alt=""></p> <h3 id="adding-the-bindings"><a href="#adding-the-bindings" class="header-anchor">#</a> Adding the Bindings</h3> <p>The UI we just launched is quite sleek, but also a bit useless for the time being, as it doesn't have any connection to the host application; so it wouldn't know what to do when the <em>Send</em> button is clicked, when the user wants to change selection or where to load saved streams from etc...</p> <p>DesktopUI comes with some <a href="https://github.com/specklesystems/speckle-sharp/blob/master/DesktopUI/DesktopUI/Utils/DummyBindings.cs" target="_blank" rel="noopener noreferrer">DummyBindings<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> so that you can test it, but let's go ahead and write our own.</p> <p>Create a class named something like <code>ConnectorBindingsAPP_NAME.cs</code> and have it implement the abstract class <code>ConnectorBindings.cs</code>. It'll look something like the code below:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConnectorBindingsAECApp</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ConnectorBindings</span></span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddNewStream</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetActiveViewName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetDocumentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetDocumentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetHostAppName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetObjectsInView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetSelectedObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>ISelectionFilter<span class="token punctuation">&gt;</span></span> <span class="token function">GetSelectionFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> <span class="token function">GetStreamsInFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">PersistAndUpdateStreamInFile</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> <span class="token function">ReceiveStream</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RemoveStreamFromFile</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> streamId<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SelectClientObjects</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> <span class="token function">SendStream</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><p>As you might have guessed, we now need to populate these methods with logic that calls the host app API to perform the various actions. You don't have to implement each method as some might not be relevant for your host application, but make sure they are handled gracefully. This is one of the most complicated parts of writing a connector and requires a very good understanding and experience with the host app API.</p> <p>You can see how that's been done in <a href="https://github.com/specklesystems/speckle-sharp/blob/master/ConnectorRhino/ConnectorRhino/UI/ConnectorBindingsRhino.cs" target="_blank" rel="noopener noreferrer">Rhino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/specklesystems/speckle-sharp/tree/master/ConnectorRevit/ConnectorRevit/UI" target="_blank" rel="noopener noreferrer">Revit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (where it's split in multiple partial classes).</p> <p>In this class you might also want to add the logic to handle various events triggered from the host application such as <code>DocumentOpened</code> and automatically open the UI if the document has any streams saved.</p> <p>Once the binding class is complete you need to set it in the Bootstrapper we initialized when launching the UI.</p> <p>Change:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>Bootstrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Bootstrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To something like:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> Bootstrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Bootstrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">{</span>
     Bindings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ConnectorBindingsAECApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>You should now see the UI responding to various user actions with your custom binding logic.</p> <h2 id="adding-desktopui-new"><a href="#adding-desktopui-new" class="header-anchor">#</a> Adding DesktopUI (new)</h2> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT ‚ö†Ô∏è</p> <p>This new User Interface is currently in beta testing, add your feedback on the <a href="https://speckle.community/t/new-desktopui-in-alpha-testing/1851" target="_blank" rel="noopener noreferrer">forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>!</p></div> <p>Our new DesktopUI is written using <a href="https://avaloniaui.net/" target="_blank" rel="noopener noreferrer">Avalonia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, a .NET open source framework for cross-platform UIs.
You can play around with a standalone version of it by opening the solution in <code>speckle-sharp/DesktopUI2/DesktopUI2.sln</code>.
Assuming the host application you are integrating with provides a way to launch plugins via command or by clicking a button, you can insatiate and launch the new DesktopUI with the code below:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Window</span> MainWindow <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">AppBuilder</span> <span class="token function">BuildAvaloniaApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> AppBuilder<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>DesktopUI2<span class="token punctuation">.</span>App<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">UsePlatformDetect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">With</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SkiaOptions</span> <span class="token punctuation">{</span> MaxGpuResourceSizeBytes <span class="token operator">=</span> <span class="token number">8096000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">With</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Win32PlatformOptions</span> <span class="token punctuation">{</span> AllowEglInitialization <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> EnableMultitouch <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">LogToTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">UseReactiveUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">Result</span> <span class="token function">Command</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">CreateOrFocusSpeckle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Result<span class="token punctuation">.</span>Success<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CreateOrFocusSpeckle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>MainWindow <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token function">BuildAvaloniaApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>AppMain<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  MainWindow<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AppMain</span><span class="token punctuation">(</span><span class="token class-name">Application</span> app<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">var</span></span> viewModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MainWindowViewModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  MainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MainWindow</span>
  <span class="token punctuation">{</span>
    DataContext <span class="token operator">=</span> viewModel
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  Task<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>MainWindow<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>You can see how it's been implemented in <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba/ConnectorRhino/ConnectorRhino/ConnectorRhinoShared/ConnectorRhinoCommand2.cs" target="_blank" rel="noopener noreferrer">Rhino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba/ConnectorRevit/ConnectorRevit/Entry/SpeckleRevitCommand2.cs" target="_blank" rel="noopener noreferrer">Revit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Now, in your host application, after launching the Speckle plugin you should see this window pop up:</p> <p><img src="https://user-images.githubusercontent.com/2679513/140319871-f242c4e6-9a9f-40ed-976e-9bd91b9c7b03.png" alt=""></p> <h3 id="adding-the-bindings-2"><a href="#adding-the-bindings-2" class="header-anchor">#</a> Adding the Bindings</h3> <p>The UI we just launched is quite sleek, but also a bit useless for the time being, as it doesn't have any connection to the host application; so it wouldn't know what to do when the <em>Send</em> button is clicked, when the user wants to change selection or where to load saved streams from etc...</p> <p>DesktopUI comes with some <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba/DesktopUI2/DesktopUI2/DummyBindings.cs" target="_blank" rel="noopener noreferrer">DummyBindings<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> so that you can test it, but let's go ahead and write our own.</p> <p>Create a class named something like <code>ConnectorBindingsAPP_NAME.cs</code> and have it implement the abstract class <code>ConnectorBindings.cs</code>. It'll look something like the code below:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConnectorBindingsAECApp</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ConnectorBindings</span></span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetActiveViewName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>MenuItem<span class="token punctuation">&gt;</span></span> <span class="token function">GetCustomStreamMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetDocumentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetDocumentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetHostAppName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetObjectsInView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetSelectedObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>ISelectionFilter<span class="token punctuation">&gt;</span></span> <span class="token function">GetSelectionFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> <span class="token function">GetStreamsInFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> <span class="token function">ReceiveStream</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">,</span> <span class="token class-name">ProgressViewModel</span> progress<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SelectClientObjects</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">Task</span> <span class="token function">SendStream</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">,</span> <span class="token class-name">ProgressViewModel</span> progress<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">WriteStreamsToFile</span><span class="token punctuation">(</span><span class="token class-name">List<span class="token punctuation">&lt;</span>StreamState<span class="token punctuation">&gt;</span></span> streams<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p>As you might have guessed, we now need to populate these methods with logic that calls the host app API to perform the various actions. You don't have to implement each method as some might not be relevant for your host application, but make sure exceptions are handled gracefully. This is one of the most complicated parts of writing a connector and requires a very good understanding and experience with the host app API.</p> <p>You can see how that's been done in <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba//ConnectorRhino/ConnectorRhino/ConnectorRhinoShared/UI/ConnectorBindingsRhino2.cs" target="_blank" rel="noopener noreferrer">Rhino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba/ConnectorRevit/ConnectorRevit/UI/ConnectorBindingsRevit2" target="_blank" rel="noopener noreferrer">Revit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (where it's split in multiple partial classes).</p> <p>In this class you might also want to add the logic to handle various events triggered from the host application such as <code>DocumentOpened</code> and automatically open the UI if the document has any streams saved.</p> <p>Once the binding class is complete you need to set it in the MainWindow constructor when launching the UI.</p> <p>Change:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> <span class="token class-name"><span class="token keyword">var</span></span> viewModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MainWindowViewModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To something like:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> <span class="token class-name"><span class="token keyword">var</span></span> viewModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MainWindowViewModel</span><span class="token punctuation">(</span>Bindings<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You should now see the UI responding to various user actions with your custom binding logic.</p> <h3 id="adding-support-for-reports"><a href="#adding-support-for-reports" class="header-anchor">#</a> Adding support for Reports</h3> <p>Our new DesktopUI has methods to better track what happens during send and receive operations, so that we can present a report to the user to better understand what happened.
The class being used is <code>ProgressReport</code> defined in <a href="https://github.com/specklesystems/speckle-sharp/tree/c413671748d72b236c99177f8f4994ad015da6ba/Core/Core/Models/Extras.cs#L96-L178" target="_blank" rel="noopener noreferrer">Core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>It has three main methods that you should implement in your conversions and bindings:</p> <ul><li><code>Log()</code>: used to log any useful operation, for instance <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Objects/Converters/ConverterRhinoGh/ConverterRhinoGhShared/ConverterRhinoGh.cs#L51" target="_blank" rel="noopener noreferrer">the converter version being used<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Objects/Converters/ConverterRhinoGh/ConverterRhinoGhShared/ConverterRhinoGh.cs#L483" target="_blank" rel="noopener noreferrer">successful operations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Objects/Converters/ConverterRhinoGh/ConverterRhinoGhShared/ConverterRhinoGh.cs#L255" target="_blank" rel="noopener noreferrer">skipped elements<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. You should Log as many useful operations as possible, in our connectors every conversion is being logged.</li> <li><code>LogConversionError()</code>: used to track any errors happening <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Objects/Converters/ConverterRhinoGh/ConverterRhinoGhShared/ConverterRhinoGh.Geometry.cs#L949" target="_blank" rel="noopener noreferrer">during a conversion<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>LogOperationError()</code>: used to track <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/ConnectorRhino/ConnectorRhino/ConnectorRhinoShared/UI/ConnectorBindingsRhino2.cs#L194" target="_blank" rel="noopener noreferrer">any other error<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, while sending or receiving</li></ul> <h4 id="passing-errors-from-the-converter-to-the-ui"><a href="#passing-errors-from-the-converter-to-the-ui" class="header-anchor">#</a> Passing errors from the converter to the UI</h4> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT</p> <p>Don't forget this step! Not doing so will result in incomplete reports.</p></div> <p>Since Speckle kits are hot swappable, the connectors or UI don't have any direct dependency on them. Therefore, we'd typically have 2 instances of a <code>ProgressReport</code> class, one <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Objects/Converters/ConverterRhinoGh/ConverterRhinoGhShared/ConverterRhinoGh.cs#L58" target="_blank" rel="noopener noreferrer">inside the converter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and one in the <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/DesktopUI2/DesktopUI2/ViewModels/ProgressViewModel.cs#L20" target="_blank" rel="noopener noreferrer">connector/UI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>To make sure your reports include everything, you need to merge the two at the end of a send/receive conversion by calling: <code>connectorReport.Merge(converterReport);</code> like demonstrated <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/ConnectorRhino/ConnectorRhino/ConnectorRhinoShared/UI/ConnectorBindingsRhino2.cs#L230" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="report-summary"><a href="#report-summary" class="header-anchor">#</a> Report summary</h4> <p>At the top of a report we're outputting a summary, it only works if some <em>keywords</em> are used in the messages being logged: <code>converted</code>, <code>created</code>, <code>updated</code>, <code>skipped</code> ,<code>failed</code>; <a href="https://github.com/specklesystems/speckle-sharp/blob/c413671748d72b236c99177f8f4994ad015da6ba/Core/Core/Models/Extras.cs#L103-L124" target="_blank" rel="noopener noreferrer">see the logic here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It might change in the future, but works for now.</p> <p>Therefore your messages should be formatted like this:</p> <ul><li>&quot;<em>Converted</em> Curve to Beam&quot;</li> <li>&quot;<em>Created</em> Wall&quot;</li> <li>&quot;<em>Updated</em> Floor&quot;</li> <li>&quot;<em>Skipped</em> not supported type: {@object.GetType()}&quot;</li> <li>&quot;<em>Failed</em> to create Floor: ...&quot;</li></ul> <h3 id="adding-custom-actions"><a href="#adding-custom-actions" class="header-anchor">#</a> Adding custom actions</h3> <p>The new UI also offers the possibility of registering custom actions that will show up in the &quot;options menu&quot; of each saved stream:
<img src="https://user-images.githubusercontent.com/2679513/139488772-80fa5715-7b88-451e-9dcd-326cfe368660.gif" alt=""></p> <p>You can register new actions in your <code>GetCustomStreamMenuItems</code> bindings method like so:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>MenuItem<span class="token punctuation">&gt;</span></span> <span class="token function">GetCustomStreamMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">var</span></span> menuItems <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>MenuItem<span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MenuItem</span> <span class="token punctuation">{</span> Header<span class="token operator">=</span><span class="token string">&quot;Test link&quot;</span><span class="token punctuation">,</span> Icon<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span><span class="token punctuation">,</span> Action <span class="token operator">=</span>OpenLink<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MenuItem</span> <span class="token punctuation">{</span> Header<span class="token operator">=</span><span class="token string">&quot;More items&quot;</span><span class="token punctuation">,</span> Icon<span class="token operator">=</span><span class="token string">&quot;List&quot;</span><span class="token punctuation">,</span> Items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>MenuItem<span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MenuItem</span> <span class="token punctuation">{</span> Header<span class="token operator">=</span><span class="token string">&quot;Sub item 1&quot;</span><span class="token punctuation">,</span> Icon<span class="token operator">=</span><span class="token string">&quot;Account&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MenuItem</span> <span class="token punctuation">{</span> Header<span class="token operator">=</span><span class="token string">&quot;Sub item 2&quot;</span><span class="token punctuation">,</span> Icon<span class="token operator">=</span><span class="token string">&quot;Clock&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> menuItems<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OpenLink</span><span class="token punctuation">(</span><span class="token class-name">StreamState</span> state<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">//to open urls in .net core you must set UseShellExecute = true</span>
  Process<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ProcessStartInfo</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>ServerUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span> UseShellExecute <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="implementing-telemetry"><a href="#implementing-telemetry" class="header-anchor">#</a> Implementing telemetry</h2> <p>Telemetry is an optional aspects of a connector, but it massively helps us understand how our tech is being used and if our products are useful or not.
We encourage everyone adding it (and enabling it) in their connectors. The more usage we see, the more resources the project will get and a Better Speckle will be possible.</p> <p>The telemetry service (matomo) is already added as a reference in Core, so you will just need to:</p> <ul><li>initialize it with a <code>Setup.Init()</code> with the name of your connector as input, <a href="https://github.com/specklesystems/speckle-sharp/blob/2a2ac0a6900e8833081b8cc851878b0decffa304/ConnectorGrasshopper/ConnectorGrasshopper/Loader.cs#L25" target="_blank" rel="noopener noreferrer">example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>track the <a href="https://github.com/specklesystems/speckle-sharp/blob/main/Core/Core/Logging/Tracker.cs#L20-L48" target="_blank" rel="noopener noreferrer">main actions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> with <code>Tracker.TrackPageView</code>, <a href="https://github.com/specklesystems/speckle-sharp/blob/2a2ac0a6900e8833081b8cc851878b0decffa304/ConnectorGrasshopper/ConnectorGrasshopper/Ops/Operations.SendComponent.cs#L59" target="_blank" rel="noopener noreferrer">example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="writing-the-converter"><a href="#writing-the-converter" class="header-anchor">#</a> Writing the Converter</h2> <p>Last crucial bit for your connector to work properly is to create a converter. The converter will take care of converting native data and geometry from your host application to Speckle when sending and vice-versa when receiving.</p> <p>For the purpose of this guide, we'll assume your converter will be extending the <a href="/dev/objects">Objects Kit</a>, but you can also <a href="/dev/kits-dev">write your own kit</a> if you so wish.</p> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT</p> <p>The Connector <strong>should never have a direct references</strong> to the Converter or Kit. This is because Kits are swappable and having a direct reference would prevent this mechanism from working.</p></div> <h3 id="creating-the-converter-project"><a href="#creating-the-converter-project" class="header-anchor">#</a> Creating the Converter Project</h3> <p>Create a new C# project for the converter, we recommend using a class library with .NET Standard 2.0.</p> <p>To be consistent with other Speckle converters you should name your project <code>ConverterAPP_NAME</code>, set the Assembly name to <code>Objects.Converter.APP_NAME</code> and the namespace to <code>Objects.Converter.APP_NAME</code> where <code>APP_NAME</code> is the name of your host application (eg Tekla, Etabs...).</p> <p>Then add references to the following NuGet packages:</p> <ul><li><code>Speckle.Objects</code></li> <li>Your host app API (preferably as NuGets)</li></ul> <h3 id="adding-the-converter-logic"><a href="#adding-the-converter-logic" class="header-anchor">#</a> Adding the Converter logic</h3> <p>Now create a new class named <code>ConverterAPP_NAME</code> and have it implement the <code>ISpeckleConverter</code> interface. It'll look something like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConverterAECApp</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ISpeckleConverter</span></span>
  <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Description <span class="token operator">=&gt;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token operator">=&gt;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Author <span class="token operator">=&gt;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> WebsiteOrEmail <span class="token operator">=&gt;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">HashSet<span class="token punctuation">&lt;</span>Exception<span class="token punctuation">&gt;</span></span> ConversionErrors <span class="token operator">=&gt;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanConvertToNative</span><span class="token punctuation">(</span><span class="token class-name">Base</span> @<span class="token keyword">object</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanConvertToSpeckle</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> @<span class="token keyword">object</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ConvertToNative</span><span class="token punctuation">(</span><span class="token class-name">Base</span> @<span class="token keyword">object</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token function">ConvertToNative</span><span class="token punctuation">(</span><span class="token class-name">List<span class="token punctuation">&lt;</span>Base<span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">Base</span> <span class="token function">ConvertToSpeckle</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> @<span class="token keyword">object</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Base<span class="token punctuation">&gt;</span></span> <span class="token function">ConvertToSpeckle</span><span class="token punctuation">(</span><span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetServicedApplications</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetContextDocument</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> doc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetContextObjects</span><span class="token punctuation">(</span><span class="token class-name">List<span class="token punctuation">&lt;</span>ApplicationPlaceholderObject<span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetPreviousContextObjects</span><span class="token punctuation">(</span><span class="token class-name">List<span class="token punctuation">&lt;</span>ApplicationPlaceholderObject<span class="token punctuation">&gt;</span></span> objects<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>You might not need to implement all these methods, it really depends on how you want to handle the conversions and on how complex is the host app you're dealing with.</p> <p>We'll detail a few of these methods and properties below, and you can see how they have been implemented for <a href="https://github.com/specklesystems/speckle-sharp/blob/master/Objects/Converters/ConverterRhinoGh/ConverterRhinoGh.cs" target="_blank" rel="noopener noreferrer">Rhino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/specklesystems/speckle-sharp/blob/master/Objects/Converters/ConverterRevit/ConverterRevitShared/ConverterRevit.cs" target="_blank" rel="noopener noreferrer">Revit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT</p> <p>Please note that <strong>it's fundamental</strong> that the string value(s) returned by <code>GetServicedApplications()</code> matches the name used for <code>APP_NAME</code>. So if your converter is built as <code>Objects.Converter.Tekla.dll</code> , the method should return <code>new string[] { &quot;Tekla&quot;};</code></p></div> <p>If you'd like to add your <code>APP_NAME</code> to the <a href="https://github.com/specklesystems/speckle-sharp/blob/master/Core/Core/Kits/Applications.cs" target="_blank" rel="noopener noreferrer">list of applications in Core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, we can certainly do so, just submit a PR.</p> <h3 id="the-context-document"><a href="#the-context-document" class="header-anchor">#</a> The Context Document</h3> <p>The <code>SetContextDocument</code> is used to <em>inject</em> the Document from the connector and host app API to the converter ( it might have a different name in your case, or not even exist!), but in software as Revit or Rhino it's fundamental to create new objects, start transactions, get units etc...</p> <h3 id="the-convert-methods"><a href="#the-convert-methods" class="header-anchor">#</a> The Convert methods</h3> <p>The most important methods in a converter are <code>ConvertToNative</code> and <code>ConvertToSpeckle</code>, and are what will take most of your time and API flexing skills.</p> <p>Please have a look at how things are done in other converters, you will most likely end up having a switch statement with a list of functions that handle the various geometry and data types.</p> <p>The logic of these routines can get quite complicated if you want to support nested elements or update previously received objects, and we recommend adding such functionalities later.</p> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT</p> <p>Don't forget to properly set the units of your objects when sending to Speckle and to scale incoming geometry when receiving from Speckle.</p></div> <p>For any questions feel free to write on the <a href="https://speckle.community/" target="_blank" rel="noopener noreferrer">community forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>!</p> <h3 id="new-objects"><a href="#new-objects" class="header-anchor">#</a> New Objects</h3> <p>If the host app you're targeting uses object types not currently defined in the Objects Kit and you'd like to write conversions for them, we are happy to extend it!</p> <p>Please get in touch on the forum before making a PR, then have a look at <a href="/dev/objects.html#writing-objects">how to write new objects</a>.</p> <h2 id="loading-the-converter"><a href="#loading-the-converter" class="header-anchor">#</a> Loading the Converter</h2> <p>At some point in your <code>ConnectorBindings</code> you'll need to implement the <code>SendStream</code> and <code>ReceiveStream</code> methods. It's within these that we will be invoking methods of the converter and then either send or receive data to/from Speckle.</p> <div class="custom-block tip"><p class="custom-block-title">IMPORTANT</p> <p>The Connector <strong>should never have a direct references</strong> to the Converter or Kit. This is because Kits are swappable and having a direct reference would prevent this mechanism from working.</p></div> <p>To invoke the <code>ConvertToNative</code> and <code>ConvertToSpeckle</code> methods (and other methods / properties as well) of the converter, we first need to load it. To do so, you should use the <code>KitManager</code> in <code>Core</code> as follows:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> kit <span class="token operator">=</span> KitManager<span class="token punctuation">.</span><span class="token function">GetDefaultKit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> converter <span class="token operator">=</span> kit<span class="token punctuation">.</span><span class="token function">LoadConverter</span><span class="token punctuation">(</span>APP_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// then stuff like converter.ConvertToNative(obj);</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The converter, as you might have seen above should have implemented other handy methods such as <code>CanConvertToSpeckle</code></p> <h2 id="publishing-the-connector"><a href="#publishing-the-connector" class="header-anchor">#</a> Publishing the Connector</h2> <p>We currently don't have mechanisms to publish third party connectors via Manager, but if you'd like to do so please write on the <a href="https://speckle.community/" target="_blank" rel="noopener noreferrer">community forum<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and we'll work out a solution! You are of course free to develop your own installer / deployment mechanism.</p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>We hope this guide will make it easier for you to start writing your own connector and we are really looking forward to seeing it! As this is a quite high level guide we encourage you to check out how our other connectors have been written and ping us with additional questions if you have any.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/specklesystems/speckle-docs/edit/main/dev/connectors-dev.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/26/2022, 11:22:00 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/dev/objects.html" class="prev">
        Objects Kit
      </a></span> <span class="next"><a href="/dev/kits-dev.html">
        Writing Your Own Kit
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8d0b3a2b.js" defer></script><script src="/assets/js/4.86dedb09.js" defer></script><script src="/assets/js/17.d6c0114b.js" defer></script>
  </body>
</html>
